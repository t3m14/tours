# .env - –ü–û–õ–ù–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –° –ü–û–î–î–ï–†–ñ–ö–û–ô HOTELTYPES API

# === –û–°–ù–û–í–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò ===
# TourVisor API
TOURVISOR_AUTH_LOGIN=alexandratur@yandex.ru
TOURVISOR_AUTH_PASS=BqgYFUGKesS6
TOURVISOR_BASE_URL=http://tourvisor.ru/xml

# Email –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ - ‚ö†Ô∏è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ù–ê–°–¢–†–û–ô–¢–ï –ü–†–ê–í–ò–õ–¨–ù–û!
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=advice.notifications@gmail.com
SMTP_PASSWORD=tven oyop yxgf tltf
EMAIL_FROM=advice.notifications@gmail.com
EMAIL_TO=temi4174@mail.ru

# EMAIL_TO=alexandratur@yandex.ru          # üìß –ö–æ–º—É –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞—è–≤–∫–∏

# === –ù–ê–°–¢–†–û–ô–ö–ò –î–õ–Ø DOCKER DEPLOYMENT ===

# Redis –¥–ª—è Docker (–ù–ï localhost!)
REDIS_URL=redis://redis:6379

# –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
DEBUG=false
LOG_LEVEL=INFO
ALLOWED_HOSTS=["*"]

# === –û–ü–¢–ò–ú–ò–ó–ò–†–û–í–ê–ù–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò –î–õ–Ø –ü–†–û–î–ê–ö–®–ù–ê ===

# –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π - —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Ä–µ–∂–∏–º
CACHE_UPDATE_INTERVAL_HOURS=24
CACHE_UPDATE_BATCH_SIZE=2              # –ú–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ API
CACHE_UPDATE_BATCH_PAUSE=45            # –ë–æ–ª—å—à–µ –ø–∞—É–∑–∞ –º–µ–∂–¥—É –±–∞—Ç—á–∞–º–∏
CACHE_SEARCH_TIMEOUT=150               # –ë–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –ø–æ–∏—Å–∫
CACHE_SEARCH_DELAY=2.0                 # –ë–æ–ª—å—à–µ –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
CACHE_TTL_HOURS=3                      # –î–æ–ª—å—à–µ –¥–µ—Ä–∂–∏–º –∫—ç—à
CACHE_REQUIRE_REAL_PRICES=true         # –¢–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã
CACHE_MIN_SUCCESS_RATE=85.0            # –í—ã—Å–æ–∫–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—Ö–∞
CACHE_RETRY_FAILED=true
CACHE_AUTO_START=true

# –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤–∫–ª—é—á–µ–Ω—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
CACHE_ENABLE_NOTIFICATIONS=true
CACHE_NOTIFICATION_EMAIL=YOUR_REAL_EMAIL@yandex.ru  # üìß –î–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

# –°–ª—É—á–∞–π–Ω—ã–µ —Ç—É—Ä—ã - —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
RANDOM_TOURS_UPDATE_INTERVAL_HOURS=12
RANDOM_TOURS_PER_TYPE=6                # –ú–µ–Ω—å—à–µ —Ç—É—Ä–æ–≤, –Ω–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–µ–µ
RANDOM_TOURS_HOTEL_TYPES=–ª—é–±–æ–π,–∞–∫—Ç–∏–≤–Ω—ã–π,–ø–ª—è–∂–Ω—ã–π,–¥–µ–ª—é–∫—Å  # –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–∏–ø—ã
RANDOM_TOURS_STRATEGIES=search,hot_tours,mock  # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞ –ø–æ–∏—Å–∫
RANDOM_TOURS_COUNTRIES=1,4,22,9        # –ï–≥–∏–ø–µ—Ç,–¢—É—Ä—Ü–∏—è,–¢–∞–∏–ª–∞–Ω–¥,–û–ê–≠
RANDOM_TOURS_API_TIMEOUT=45            # –ë–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è API
RANDOM_TOURS_SEARCH_PRIORITY=true
RANDOM_TOURS_AUTO_START=true

# === –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ –ò –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨ ===

# –¢–∞–π–º–∞—É—Ç—ã –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
CACHE_UPDATE_TIMEOUT=300               # 5 –º–∏–Ω—É—Ç –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
REQUEST_TIMEOUT=60                     # –¢–∞–π–º–∞—É—Ç HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
MAX_CONCURRENT_REQUESTS=3              # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

# –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
CACHE_TTL=7200                         # 2 —á–∞—Å–∞ –±–∞–∑–æ–≤—ã–π TTL
POPULAR_TOURS_CACHE_TTL=43200          # 12 —á–∞—Å–æ–≤ –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç—É—Ä–æ–≤

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞
TOURVISOR_API_DEBUG=false              # –û—Ç–∫–ª—é—á–∞–µ–º –≤ –ø—Ä–æ–¥–∞–∫—à–Ω–µ
RANDOM_TOURS_LOG_API_CALLS=false       # –û—Ç–∫–ª—é—á–∞–µ–º –∏–∑–±—ã—Ç–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
ENABLE_METRICS=true

# === –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò ===

# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Redis (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
REDIS_MAXMEMORY=2gb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# Uvicorn –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞
UVICORN_WORKERS=2                      # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ—Ä–∫–µ—Ä–æ–≤
UVICORN_HOST=0.0.0.0
UVICORN_PORT=8000
UVICORN_ACCESS_LOG=false               # –û—Ç–∫–ª—é—á–∞–µ–º access –ª–æ–≥–∏ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω–µ

# === BACKUP –ò –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï ===
BACKUP_ENABLED=true
BACKUP_INTERVAL_HOURS=24
BACKUP_RETENTION_DAYS=7

# =========================================
# –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –ù–ê–°–¢–†–û–ô–ö–ï:
# =========================================
# 
# 1. –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∑–∞–º–µ–Ω–∏—Ç–µ –í–°–ï –∑–Ω–∞—á–µ–Ω–∏—è YOUR_REAL_* –Ω–∞ –Ω–∞—Å—Ç–æ—è—â–∏–µ
# 2. –î–ª—è –Ø–Ω–¥–µ–∫—Å –ø–æ—á—Ç—ã –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –Ω–µ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä–æ–ª—å
# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ TourVisor API –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
# 4. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ IP —Å–µ—Ä–≤–µ—Ä–∞ –¥–æ–±–∞–≤–ª–µ–Ω –≤ whitelist TourVisor
# 5. –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã: docker-compose down && docker-compose up -d
# 
# –ü–†–û–í–ï–†–ö–ê –ö–û–†–†–ï–ö–¢–ù–û–°–¢–ò:
# curl "http://tourvisor.ru/xml/list.php?authlogin=YOUR_LOGIN&authpass=YOUR_PASSWORD&type=departure&format=json"
# 
# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å JSON —Å –¥–∞–Ω–Ω—ã–º–∏, –∞ –Ω–µ "Authorization Error"
# ======================================